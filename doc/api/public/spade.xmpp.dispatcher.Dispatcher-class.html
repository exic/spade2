<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>spade.xmpp.dispatcher.Dispatcher</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="spade-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="spade-module.html">Package&nbsp;spade</a> ::
        <a href="spade.xmpp-module.html">Package&nbsp;xmpp</a> ::
        <a href="spade.xmpp.dispatcher-module.html">Module&nbsp;dispatcher</a> ::
        Class&nbsp;Dispatcher
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/spade.xmpp.dispatcher.Dispatcher-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="spade.xmpp.dispatcher.Dispatcher-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class Dispatcher</h2>

<pre class="base-tree">
<a href="spade.xmpp.client.PlugIn-class.html"><code>PlugIn</code></a> --+
         |
        <b>Dispatcher</b>
</pre><br />

<hr/>

Ancestor of PlugIn class. Handles XMPP stream, i.e. aware of stream 
headers. Can be plugged out/in to restart these headers (used for SASL 
f.e.).
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="__init__"></a><span class="summary-sig"><span class="summary-sig-name">__init__</span>(<span class=summary-sig-arg>self</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#disconnect" class="summary-sig-name"><code>disconnect</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Send a stream terminator and and handle all incoming stanzas before 
stream closure.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#dispatch" class="summary-sig-name"><code>dispatch</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>stanza</span>,
          <span class=summary-sig-arg>session</span>)</span></code>
<br />
Main procedure that performs XMPP stanza recognition and calling 
apppropriate handlers for it.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#dumpHandlers" class="summary-sig-name"><code>dumpHandlers</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return set of user-registered callbacks in it's internal format.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#Event" class="summary-sig-name"><code>Event</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>realm</span>,
          <span class=summary-sig-arg>event</span>,
          <span class=summary-sig-arg>data</span>)</span></code>
<br />
Raise some event.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#plugin" class="summary-sig-name"><code>plugin</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>owner</span>)</span></code>
<br />
Plug the Dispatcher instance into Client class instance and send 
initial stream header.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#plugout" class="summary-sig-name"><code>plugout</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Prepares instance to be destructed.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#Process" class="summary-sig-name"><code>Process</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>timeout</span>)</span></code>
<br />
Check incoming stream for data waiting.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterCycleHandler" class="summary-sig-name"><code>RegisterCycleHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>handler</span>)</span></code>
<br />
Register handler that will be called on every Dispatcher.Process() 
call.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterDefaultHandler" class="summary-sig-name"><code>RegisterDefaultHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>handler</span>)</span></code>
<br />
Specify the handler that will be used if no NodeProcessed exception 
were raised.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterEventHandler" class="summary-sig-name"><code>RegisterEventHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>handler</span>)</span></code>
<br />
Register handler that will process events.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterHandler" class="summary-sig-name"><code>RegisterHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>,
          <span class=summary-sig-arg>handler</span>,
          <span class=summary-sig-arg>typ</span>,
          <span class=summary-sig-arg>ns</span>,
          <span class=summary-sig-arg>xmlns</span>,
          <span class=summary-sig-arg>makefirst</span>,
          <span class=summary-sig-arg>system</span>)</span></code>
<br />
Register user callback as stanzas handler of declared type.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterHandlerOnce" class="summary-sig-name"><code>RegisterHandlerOnce</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>,
          <span class=summary-sig-arg>handler</span>,
          <span class=summary-sig-arg>typ</span>,
          <span class=summary-sig-arg>ns</span>,
          <span class=summary-sig-arg>xmlns</span>,
          <span class=summary-sig-arg>makefirst</span>,
          <span class=summary-sig-arg>system</span>)</span></code>
<br />
Unregister handler after first call (not implemented yet).</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterNamespace" class="summary-sig-name"><code>RegisterNamespace</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>xmlns</span>,
          <span class=summary-sig-arg>order</span>)</span></code>
<br />
Creates internal structures for newly registered namespace.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterNamespaceHandler" class="summary-sig-name"><code>RegisterNamespaceHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>xmlns</span>,
          <span class=summary-sig-arg>handler</span>,
          <span class=summary-sig-arg>typ</span>,
          <span class=summary-sig-arg>ns</span>,
          <span class=summary-sig-arg>makefirst</span>,
          <span class=summary-sig-arg>system</span>)</span></code>
<br />
Register handler for processing all stanzas for specified 
namespace.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#RegisterProtocol" class="summary-sig-name"><code>RegisterProtocol</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>tag_name</span>,
          <span class=summary-sig-arg>Proto</span>,
          <span class=summary-sig-arg>xmlns</span>,
          <span class=summary-sig-arg>order</span>)</span></code>
<br />
Used to declare some top-level stanza name to dispatcher.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#restoreHandlers" class="summary-sig-name"><code>restoreHandlers</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>handlers</span>)</span></code>
<br />
Restores user-registered callbacks structure from dump previously 
obtained via dumpHandlers.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#returnStanzaHandler" class="summary-sig-name"><code>returnStanzaHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>conn</span>,
          <span class=summary-sig-arg>stanza</span>)</span></code>
<br />
Return stanza back to the sender with 
&lt;feature-not-implemennted/&gt; error set.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#send" class="summary-sig-name"><code>send</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>stanza</span>)</span></code>
<br />
Serialise stanza and put it on the wire.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#SendAndCallForResponse" class="summary-sig-name"><code>SendAndCallForResponse</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>stanza</span>,
          <span class=summary-sig-arg>func</span>,
          <span class=summary-sig-arg>args</span>)</span></code>
<br />
Put stanza on the wire and call back when recipient replies.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#SendAndWaitForResponse" class="summary-sig-name"><code>SendAndWaitForResponse</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>stanza</span>,
          <span class=summary-sig-arg>timeout</span>)</span></code>
<br />
Put stanza on the wire and wait for recipient's response to it.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="streamErrorHandler"></a><span class="summary-sig"><span class="summary-sig-name">streamErrorHandler</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>conn</span>,
          <span class=summary-sig-arg>error</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#StreamInit" class="summary-sig-name"><code>StreamInit</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Send an initial stream header.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#UnregisterCycleHandler" class="summary-sig-name"><code>UnregisterCycleHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>handler</span>)</span></code>
<br />
Unregister handler that will is called on every Dispatcher.Process() 
call.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#UnregisterHandler" class="summary-sig-name"><code>UnregisterHandler</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>,
          <span class=summary-sig-arg>handler</span>,
          <span class=summary-sig-arg>typ</span>,
          <span class=summary-sig-arg>ns</span>,
          <span class=summary-sig-arg>xmlns</span>)</span></code>
<br />
Unregister handler.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.dispatcher.Dispatcher-class.html#WaitForResponse" class="summary-sig-name"><code>WaitForResponse</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>ID</span>,
          <span class=summary-sig-arg>timeout</span>)</span></code>
<br />
Block and wait until stanza with specific &quot;id&quot; attribute 
will come.</td></tr>
<tr bgcolor="#e8f0f8" class="group">
  <th colspan="2">&nbsp;&nbsp;&nbsp;&nbsp;Inherited from PlugIn</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.client.PlugIn-class.html#DEBUG" class="summary-sig-name"><code>DEBUG</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>text</span>,
          <span class=summary-sig-arg>severity</span>)</span></code>
<br />
Feed a provided debug line to main instance's debug facility along 
with our ID string.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.client.PlugIn-class.html#PlugIn" class="summary-sig-name"><code>PlugIn</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>owner</span>)</span></code>
<br />
Attach to main instance and register ourself and all our staff in 
it.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="spade.xmpp.client.PlugIn-class.html#PlugOut" class="summary-sig-name"><code>PlugOut</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Unregister all our staff from main instance and detach from it.</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="disconnect"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">disconnect</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Send a stream terminator and and handle all incoming stanzas before 
  stream closure.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="dispatch"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">dispatch</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>stanza</span>,
          <span class=sig-arg>session</span>=<span class=sig-default>None</span>)</span>
  </h3>
  Main procedure that performs XMPP stanza recognition and calling 
  apppropriate handlers for it. Called internally.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="dumpHandlers"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">dumpHandlers</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return set of user-registered callbacks in it's internal format. 
  Used within the library to carry user handlers set over Dispatcher 
  replugins.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="Event"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">Event</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>realm</span>,
          <span class=sig-arg>event</span>,
          <span class=sig-arg>data</span>)</span>
  </h3>
  Raise some event. Takes three arguments: 1) &quot;realm&quot; - 
  scope of event. Usually a namespace. 2) &quot;event&quot; - the event 
  itself. F.e. &quot;SUCESSFULL SEND&quot;. 3) data that comes along with 
  event. Depends on event.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="plugin"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">plugin</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>owner</span>)</span>
  </h3>
  Plug the Dispatcher instance into Client class instance and send 
  initial stream header. Used internally.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="plugout"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">plugout</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Prepares instance to be destructed.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="Process"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">Process</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>timeout</span>=<span class=sig-default>0</span>)</span>
  </h3>
  Check incoming stream for data waiting. If &quot;timeout&quot; is 
  positive - block for as max. this time. Returns: 1) length of processed 
  data if some data were processed; 2) '0' string if no data were 
  processed but link is alive; 3) 0 (zero) if underlying connection is 
  closed. Take note that in case of disconnection detect during Process() 
  call disconnect handlers are called automatically.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterCycleHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterCycleHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>handler</span>)</span>
  </h3>
  Register handler that will be called on every Dispatcher.Process() 
  call.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterDefaultHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterDefaultHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>handler</span>)</span>
  </h3>
  Specify the handler that will be used if no NodeProcessed exception 
  were raised. This is returnStanzaHandler by default.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterEventHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterEventHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>handler</span>)</span>
  </h3>
  Register handler that will process events. F.e. 
  &quot;FILERECEIVED&quot; event.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>,
          <span class=sig-arg>handler</span>,
          <span class=sig-arg>typ</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>ns</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>xmlns</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>makefirst</span>=<span class=sig-default>0</span>,
          <span class=sig-arg>system</span>=<span class=sig-default>0</span>)</span>
  </h3>
<pre class="literalblock">
Register user callback as stanzas handler of declared type. Callback must take
(if chained, see later) arguments: dispatcher instance (for replying), incomed
return of previous handlers.
The callback must raise xmpp.NodeProcessed just before return if it want preven
callbacks to be called with the same stanza as argument _and_, more importantly
library from returning stanza to sender with error set (to be enabled in 0.2 ve
 Arguments:
   &quot;name&quot; - name of stanza. F.e. &quot;iq&quot;.
   &quot;handler&quot; - user callback.
   &quot;typ&quot; - value of stanza's &quot;type&quot; attribute. If not specified any value match
   &quot;ns&quot; - namespace of child that stanza must contain.
   &quot;chained&quot; - chain together output of several handlers.
   &quot;makefirst&quot; - insert handler in the beginning of handlers list instead of
     adding it to the end. Note that more common handlers (i.e. w/o &quot;typ&quot; and &quot;
     will be called first nevertheless.
   &quot;system&quot; - call handler even if NodeProcessed Exception were raised already.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterHandlerOnce"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterHandlerOnce</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>,
          <span class=sig-arg>handler</span>,
          <span class=sig-arg>typ</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>ns</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>xmlns</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>makefirst</span>=<span class=sig-default>0</span>,
          <span class=sig-arg>system</span>=<span class=sig-default>0</span>)</span>
  </h3>
  Unregister handler after first call (not implemented yet).
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterNamespace"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterNamespace</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>xmlns</span>,
          <span class=sig-arg>order</span>=<span class=sig-default>'info'</span>)</span>
  </h3>
  Creates internal structures for newly registered namespace. You can 
  register handlers for this namespace afterwards. By default one 
  namespace already registered (jabber:client or jabber:component:accept 
  depending on context.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterNamespaceHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterNamespaceHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>xmlns</span>,
          <span class=sig-arg>handler</span>,
          <span class=sig-arg>typ</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>ns</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>makefirst</span>=<span class=sig-default>0</span>,
          <span class=sig-arg>system</span>=<span class=sig-default>0</span>)</span>
  </h3>
  Register handler for processing all stanzas for specified 
  namespace.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="RegisterProtocol"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">RegisterProtocol</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>tag_name</span>,
          <span class=sig-arg>Proto</span>,
          <span class=sig-arg>xmlns</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>order</span>=<span class=sig-default>'info'</span>)</span>
  </h3>
  Used to declare some top-level stanza name to dispatcher. Needed to 
  start registering handlers for such stanzas. Iq, message and presence 
  protocols are registered by default.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="restoreHandlers"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">restoreHandlers</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>handlers</span>)</span>
  </h3>
  Restores user-registered callbacks structure from dump previously 
  obtained via dumpHandlers. Used within the library to carry user 
  handlers set over Dispatcher replugins.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="returnStanzaHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">returnStanzaHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>conn</span>,
          <span class=sig-arg>stanza</span>)</span>
  </h3>
  Return stanza back to the sender with 
  &lt;feature-not-implemennted/&gt; error set.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="send"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">send</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>stanza</span>)</span>
  </h3>
  Serialise stanza and put it on the wire. Assign an unique ID to it 
  before send. Returns assigned ID.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="SendAndCallForResponse"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">SendAndCallForResponse</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>stanza</span>,
          <span class=sig-arg>func</span>,
          <span class=sig-arg>args</span>=<span class=sig-default>{}</span>)</span>
  </h3>
  Put stanza on the wire and call back when recipient replies. 
  Additional callback arguments can be specified in args.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="SendAndWaitForResponse"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">SendAndWaitForResponse</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>stanza</span>,
          <span class=sig-arg>timeout</span>=<span class=sig-default>25</span>)</span>
  </h3>
  Put stanza on the wire and wait for recipient's response to it.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="StreamInit"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">StreamInit</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Send an initial stream header.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="UnregisterCycleHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">UnregisterCycleHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>handler</span>)</span>
  </h3>
  Unregister handler that will is called on every Dispatcher.Process() 
  call.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="UnregisterHandler"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">UnregisterHandler</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>,
          <span class=sig-arg>handler</span>,
          <span class=sig-arg>typ</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>ns</span>=<span class=sig-default>''</span>,
          <span class=sig-arg>xmlns</span>=<span class=sig-default>None</span>)</span>
  </h3>
  Unregister handler. &quot;typ&quot; and &quot;ns&quot; must be 
  specified exactly the same as with registering.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="WaitForResponse"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">WaitForResponse</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>ID</span>,
          <span class=sig-arg>timeout</span>=<span class=sig-default>25</span>)</span>
  </h3>
  Block and wait until stanza with specific &quot;id&quot; attribute 
  will come. If no such stanza is arrived within timeout, return None. If 
  operation failed for some reason then owner's attributes lastErrNode, 
  lastErr and lastErrCode are set accordingly.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="spade-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Wed Oct 26 17:42:05 2005</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
